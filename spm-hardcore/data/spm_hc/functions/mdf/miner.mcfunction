execute if predicate spm_dpi:1/3 run item modify entity @s armor.head spm_dpi:enchant_with_level/10
execute if predicate spm_dpi:1/3 run item modify entity @s armor.chest spm_dpi:enchant_with_level/10
execute if predicate spm_dpi:1/4 run item modify entity @s armor.legs spm_dpi:enchant_with_level/10
execute if predicate spm_dpi:1/3 run item modify entity @s armor.feet spm_dpi:enchant_with_level/10

effect give @s resistance 999999 0
execute if predicate spm_dpi:1/2 run effect give @s resistance 999999 1